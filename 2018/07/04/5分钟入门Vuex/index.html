<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="欢迎访问我的博客，如果大家想要了解我可以访问http://chat.lgdsunday.club/，这里提供了一个好玩的交互式问题界面"><title>5分钟入门Vuex | LGD_Sunday</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><script type="text/javascript" src="https://s13.cnzz.com/z_stat.php?id=1274342622&amp;web_id=1274342622"></script><script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1274342622'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s13.cnzz.com/z_stat.php%3Fid%3D1274342622' type='text/javascript'%3E%3C/script%3E"))</script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">5分钟入门Vuex</h1><a id="logo" href="/.">LGD_Sunday</a><p class="description">济南小哥</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="http://www.lgdsunday.club/"><i class="fa fa-user"> 关于我</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">5分钟入门Vuex</h1><div class="post-meta">Jul 4, 2018<span> | </span><span class="category"><a href="/categories/Vue/">Vue</a></span></div><div class="post-content"><h2 id="Vuex是什么？"><a href="#Vuex是什么？" class="headerlink" title="Vuex是什么？"></a>Vuex是什么？</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Vuex 是一个专为 Vue.js 应用程序开发的状态管理模式。</span><br><span class="line">它采用集中式存储管理应用的所有组件的状态，</span><br><span class="line">并以相应的规则保证状态以一种可预测的方式发生变化</span><br></pre></td></tr></table></figure>
<p>这是<a href="https://vuex.vuejs.org/" target="_blank" rel="noopener">vuex的官网</a>，对vuex的解释，乍一看挺难理解的， 什么叫 <strong>状态管理模式？</strong>， 什么又是<strong>集中式存储管理？</strong>，官网的描述不明觉厉。 首先我们就先来解释这个定义。<br>所有的开源库都是为了解决我们在实际开发的过程之中遇到的问题而出现的。而vuex就是为了解决我们在使用vue的过程中对多个视图依赖于同一个状态（或者说：我们很难在vue中通过一种优雅的方式创建全局变量，并改变全局变量的状态）。现在理解了吗？ </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1、vuex就是在vue中创建全局变量的东西</span><br><span class="line">2、vuex提供了一些优雅的方法，可以让我们改变全局变量的值</span><br></pre></td></tr></table></figure>
<p>OK, 这就是vuex所解决的问题。</p>
<h2 id="怎么去用Vuex？"><a href="#怎么去用Vuex？" class="headerlink" title="怎么去用Vuex？"></a>怎么去用Vuex？</h2><p>使用vuex的方式非常非常简单，我们只需要记住几个核心的概念就可以。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1、this.$store ： 我们可以通过 this.$store 在vue的组件中获取 </span><br><span class="line">vuex的实例。</span><br><span class="line"></span><br><span class="line">2、State ： vuex中的数据源，我们可以通过 this.$store.state 获取</span><br><span class="line">我们在vuex中声明的全局变量的值。</span><br><span class="line"></span><br><span class="line">3、Getter： 相当于vue中的computed ， 及 计算属性， 可以用于监听、</span><br><span class="line">计算 state中的值的变化</span><br><span class="line"></span><br><span class="line">4、Mutation： vuex中去操作数据的方法 （只能同步执行）</span><br><span class="line"></span><br><span class="line">5、Action： 用来操作 Mutation 的动作 ， 他不能直接去操作数据源，</span><br><span class="line">但可以把mutation变为异步的</span><br><span class="line"></span><br><span class="line">6、Module： 模块化，当你的应用足够大的时候，你可以把你的vuex分成多个</span><br><span class="line">子模块</span><br></pre></td></tr></table></figure>
<p>这就是vuex中所有的概念了，是不是很简单 ？ 下面就让我们通过实例，看看他这些概念具体都是怎么使用的。 </p>
<h2 id="上手Vuex"><a href="#上手Vuex" class="headerlink" title="上手Vuex"></a>上手Vuex</h2><p>我们使用很真实，但是很简单的项目引导大家去使用vuex。首先我们需要先使用vue-cli去初始化一个项目（不了解vue-cli的朋友可以去百度一下 ）。<br>项目创建完成之后，在src下创建store文件夹。结构如下<br><img src="http://res.lgdsunday.club/20180506163422848.png" alt="项目结构图"></p>
<p>这个store文件夹，就是我们放置vuex文件的地方。</p>
<p>在store文件夹下创建 index.js 作为我们生成vuex的文件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// index.js</span><br><span class="line">import Vue from &apos;vue&apos;; </span><br><span class="line">import Vuex from &apos;vuex&apos;;</span><br><span class="line"></span><br><span class="line">// 需要注册vuex到vue中</span><br><span class="line">Vue.use(Vuex);</span><br><span class="line"></span><br><span class="line">// 使用 es6 语法把vuex的实例对象输出</span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">    </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>然后在vue的初始文件中注册vuex的实例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import store from &apos;./store&apos;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">	...</span><br><span class="line">	  store</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>这样 vuex 就已经注册完成了 。</p>
<p>下面我们在vuex中去注册我们前面说过的vuex的核心概念</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &apos;vue&apos;;</span><br><span class="line">import Vuex from &apos;vuex&apos;;</span><br><span class="line"></span><br><span class="line">Vue.use(Vuex);</span><br><span class="line"></span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">    // 在state中去声明全局变量，可以通过 this.$store.state 访问</span><br><span class="line">    state: &#123;</span><br><span class="line">        count: 0</span><br><span class="line">    &#125;,</span><br><span class="line">    // 在getters中声明state中变量的计算函数，缓存计算后的数据， 通过 this.$store.getters 调用</span><br><span class="line">    getters: &#123;</span><br><span class="line">        // 接受state作为参数，每次 count发生变化时 ， 都会被调用</span><br><span class="line">        consoleCount: state =&gt; &#123;</span><br><span class="line">            console.log(&apos;the state count : &apos; + state.count);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    // 只能执行同步方法，不要去执行异步方法 通过 this.$store.commit 方法去调用</span><br><span class="line">    mutations: &#123;</span><br><span class="line">        // 改变state状态的方法，不建议直接通过  </span><br><span class="line">        // this.$store.state.? = ？的方式改变state中的状态</span><br><span class="line">        addCount: state =&gt; &#123;</span><br><span class="line">            ++state.count;</span><br><span class="line">        &#125;,</span><br><span class="line">        // mutations的第一个参数即为 state对象，并且可以向mutation传入额外的参数</span><br><span class="line">        addNumCount: (state, n) =&gt; &#123;</span><br><span class="line">            state.count+=n;</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    // 借助actions的手去 执行 mutations ， 通过  this.$store.dispatch 的方式调用</span><br><span class="line">    // 可以用来执行异步操作，可以跟踪异步数据状态变化</span><br><span class="line">    actions: &#123;</span><br><span class="line">        addCount: context =&gt; &#123;</span><br><span class="line">            // 调用 mutation</span><br><span class="line">            context.commit(&apos;addCount&apos;);</span><br><span class="line">        &#125;,</span><br><span class="line">        addNumCount: (context, n) =&gt; &#123;</span><br><span class="line">            context.commit(&apos;addNumCount&apos;, n);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>我们在代码中分别注册了，state、getters、mutations、actions。</p>
<p>这样我们就可以在任何一个 component中通过 <code>this.$store.dispatch(&#39;addNumCount&#39;, 5);</code> 或者 <code>this.$store.dispatch(&#39;addCount&#39;);</code> 去触发actions操作来改变state中的值。</p>
<p>很容易对不对？  这些就是vuex中最基础的概念，了解了这些，就可以入门vuex了。 但是vuex中还有一个我们前面列出来的核心概念，我们并没有说 ， 他就是modules。 顾名思义 ， 模块。 也就是说当我们的项目足够大的时候 ， 我们不希望吧所有的全局变量和操作全局变量的方法都放到一个文件中的时候 ， 我们可以使用 modules去分割模块。 </p>
<p>其他的一些概念，我们不在这篇博客中去讲解了，因为vuex的官网中的描述非常清楚，我还是建议大家如果想更深的了解vuex（包括模块化，vuex中推荐的项目结构，mapState，actions promise 等概念），可以去访问 <a href="https://vuex.vuejs.org/" target="_blank" rel="noopener">Vuex的官网</a> ， 一定会获益良多的。</p>
</div><div class="tags"></div><div class="post-nav"><a class="pre" href="/2018/07/05/apply()与call()方法详解/">apply()与call()方法详解</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://lgdsunday.club"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/AngularJS/">AngularJS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/IOS/">IOS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/">JavaScript</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ReactNative/">ReactNative</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Vue/">Vue</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/08/03/GitChat：深入浅出学Vue开发：4、Vue的生命周期及源码实现/">GitChat：深入浅出学Vue开发：4、Vue的生命周期及源码实现</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/03/GitChat：深入浅出学Vue开发：1、初探Vue/">GitChat：深入浅出学Vue开发：1、初探Vue</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/19/GitChat：深入浅出学Vue开发：导读/">GitChat：深入浅出学Vue开发：导读</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/05/IOS 嵌套实现分页的TableView/">IOS 嵌套实现分页的TableView</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/05/Activity触摸事件的分发机制/">Activity触摸事件的分发机制</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/05/Android 6.0RunTime Permission完美解决方案/">Android 6.0RunTime Permission完美解决方案</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/05/原生JS获取ScrollTop、ScrollLeft/">原生JS获取ScrollTop、ScrollLeft</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/05/ReactNative实现ListView分组，悬浮效果/">ReactNative实现ListView分组，悬浮效果</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/05/AngularJS  Component详解/">AngularJS  Component详解</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/05/全面理解控制反转和依赖注入/">全面理解控制反转和依赖注入</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 其他链接</i></div><ul></ul><a href="http://www.lgdsunday.club/" title="星期天俱乐部" target="_blank">星期天俱乐部</a><ul></ul><a href="https://blog.csdn.net/u011068996/" title="csdn" target="_blank">csdn</a><ul></ul><a href="https://juejin.im/user/5b397dbfe51d45589271b11c/" title="掘金" target="_blank">掘金</a><ul></ul><a href="https://www.imooc.com/u/3330348/courses?sort=publish" title="慕课网" target="_blank">慕课网</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">LGD_Sunday.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>